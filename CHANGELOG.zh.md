# 更新日志

[English](./CHANGELOG.md) | 中文

本项目的所有重要更改都将记录在此文件中。

## 0.7.0 - 2026-02-02

### 新功能
- **RDD DAG 可视化**：引入 AntV X6 与 Dagre 引擎，实现 Stage 内部的 RDD 血缘图。支持 Operation Scope 分组（如 WholeStageCodegen）、RDD 依赖关系连线及代码调用位置（Call Site）显示。
- **Stage 概览增强**：将原 Stage Overview 合并入 Summary Metrics 矩阵。新增 `Total` 列，完整展示该 Stage 在所有指标维度上的资源消耗总量（累加/最大值）。
- **指标选择器优化**：重构指标选择卡片为响应式等宽网格布局。列数随分辨率自适应调整（高分辨率 10 列，中分辨率 5 列等），彻底解决排列不齐的问题。
- **指标全量覆盖**：补全了 Output、Shuffle Read 等缺失指标，并在全站范围内统一了指标命名规范。
- **后端算力升级**：增强了 Stage 预计算引擎，新增 10+ 项聚合指标的自动统计逻辑。

### 修复
- **渲染健壮性**：修复了在数据加载完成前跳转详情页导致的 `TypeError` 报错。
- **UI 细节修复**：恢复了丢失的 CSS 样式，修复了长指标名称被截断的问题。

## 0.6.0 - 2026-02-01

### 新功能
- **Job 详情页**：实现专用 Job 详情视图，支持 Job 级别的 Executor 聚合指标及 Stage 列表过滤。
- **环境页深度重构**：完整覆盖 Spark, Hadoop, JVM, System 及类路径配置，支持分块搜索与折叠。
- **Executor 视图升级**：新增 15+ 性能指标（各类峰值内存、存储分代、磁盘等）及 Add/Remove 生命周期跟踪。
- **Stage 列表增强**：新增提交时间、耗时、数据流转列，并引入任务进度条可视化。
- **高级排序功能**：全站所有卡片（Jobs, Stages, Executors, Tasks, Metrics）统一支持多列组合排序及状态条。
- **状态持久化**：通过 URL 子路径支持标签页深度链接，刷新页面可保留当前视图状态。
- **数据准确性优化**：修复 Task 成功状态识别逻辑，增强 Job 描述提取（支持 Call Site 追溯），统一 0 值掩码显示。
- **UI 规范化**：统一表格链接样式、表头命名规范及悬停高亮逻辑。

## 0.4.0 - 2026-02-01

### 新功能
- 新增 **Aggregated Metrics by Executor** 模块，支持按 Executor 聚合分析指标
- 新增 **指标选择器**，支持动态控制各组件中指标列/行的可见性
- 为 Stage 详情页的所有模块实现 **可折叠卡片** 功能
- 在页眉建立 Stage 与其所属 Job 的关联，支持点击跳转
- 优化记录数显示，同时支持精确计数与易读格式（如 `1,234 (1.2 K)`）
- 重构导航栏布局与样式，深度对标 Spark Web UI 体验
- 修复 Task 耗时与调度延迟计算逻辑，提升数据准确性

## 0.1.0 - 2026-02-01

### 新功能
- 启用任务表多列排序
- 增强作业/阶段分析及与 Spark History Server 的 UI 一致性
- 实现前端自动打包进 JAR

### 重构
- 模块化阶段详情并增强环境标签页
